const registryToken="81dbbfa2-6d44-450c-a194-b7b249fc0a97";var authData=null;const login=()=>{Rosefire.signIn(registryToken,((e,t)=>{authData=t,firebase.auth().signInWithCustomToken(t.token).catch(e)}))};function redirectCheck(e){if(null!=e){const e=new URLSearchParams(window.location.search),t=Object.fromEntries(e.entries());null!=t.redirect?window.location.href=t.redirect+"/?token="+authData.token:window.location.href="/start/index.html"}}$("#roseAuth").on("click",login),window.addEventListener("load",(e=>{var t=firebase.auth().currentUser;redirectCheck(t),console.log(t),firebase.auth().onAuthStateChanged((e=>{null!=authData&&e.updateProfile({displayName:authData.name}),redirectCheck(e)}))}));